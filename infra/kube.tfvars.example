# Hetzner Cloud Configuration
# Copy this file to kube.tfvars and fill in your actual values
# kube.tfvars is gitignored to protect secrets

# REQUIRED: Your Hetzner Cloud API token
# Get from: https://console.hetzner.cloud/projects
hcloud_token = "YOUR_HETZNER_API_TOKEN_HERE"

# Cluster name
cluster_name = "ironclad-forge"

# Cluster access method
# - "public": accessible from internet (requires firewall rules for API)
# - "private": only accessible via VPN/private network
cluster_access = "public"

# Control plane nodes (Talos-based Kubernetes)
# Must be odd number for HA (1, 3, 5, etc.)
# Default: 1 node for cost-effective single-node setup (~€9/month)
control_plane_nodepools = [
  {
    name     = "control-plane"
    location = "hel1"              # Helsinki, Finland
    type     = "cax11"              # ARM-based, cost-effective
    count    = 1                    # Single node
    labels   = { "node-type" = "control-plane" }
    taints   = []
  }
]

# For High Availability, use 3 nodes:
# control_plane_nodepools = [
#   {
#     name     = "control-plane"
#     location = "nbg1"
#     type     = "cpx31"            # 4 vCPU, 8GB RAM (~€17/month)
#     count    = 3
#     labels   = { "node-type" = "control-plane" }
#     taints   = []
#   }
# ]

# Worker nodes (optional, empty for single-node cluster)
# Leave empty for single-node setup
worker_nodepools = []

# For a cluster with worker nodes, uncomment:
# worker_nodepools = [
#   {
#     name     = "workers"
#     location = "nbg1"
#     type     = "cpx21"
#     count    = 2
#     labels   = { "node-type" = "worker" }
#     taints   = []
#   }
# ]

# Kubeconfig output (leave null to skip writing to disk)
# Output will be available via 'terraform output kubeconfig'
cluster_kubeconfig_path = null

# Talosconfig output (optional, for advanced talosctl management)
cluster_talosconfig_path = null
